<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/login.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    
    <div class="cont">
        <div class="form">
            <div class="form2">
                <i class="fa-solid fa-sleigh" style="width:50px"></i>
                <h2>Your Account</h2>
                <i class="fa-solid fa-gifts" style="width:50px"></i>
            </div>
            <label id="email2">
                <span> Email address </span>
                <input type="email" name="email" id="email">
            </label>
            <label id="pass2">
                <span> Password </span>
                <input type="password" name="password" id="pass">
            </label>
            <button id="sign-in" class="submit" type="button">Sign In</button>
            <button id="sign-up" class="submit" type="button" style="display:none;">Sign Up</button>
            <div style="display: flex;justify-content: space-between;width: 300px;">
                <div class="forgot-pass" style="margin-left:20px;text-decoration: underline;" id="signup"> Sign up</div>
                <div class="forgot-pass" style="margin-left:20px; display: none; text-decoration: underline;"
                    id="signin"> Sign in</div>
                <div class="forgot-pass" style="text-decoration: underline;"> Forgot Password ?</div>
            </div>

            <div class="media" id="">
                <ul>
                    <li><i class="fa-brands fa-facebook"></i></li>
                    <li><i class="fa-brands fa-instagram"></i></li>
                    <li><i class="fa-brands fa-linkedin"></i></li>
                    <li><i class="fa-brands fa-twitter"></i></li>
                    <li><i class="fa-brands fa-google"></i></li>
                </ul>
            </div>
        </div>
        <!-- <div class="sub-cont" id="subcont">
            <div class="img">
                <div class="img-text">
                    <h2>New user?</h2>
                    <p> Sign Up to be a member</p>
                </div>
                <div class="img-text">
                    <h2>One of us</h2>
                    <p>Already have an account?</p>
                </div>
                <div class="img-btn">
                    <span class="m-up">Sign Up</span>
                    <span class="m-in">Sign In</span>
                </div>
            </div>
        </div> -->
    </div>

</body>
    <!-- <script src="./index.js"></script> -->
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-auth.js";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-analytics.js";
        import { getDatabase } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-database.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDb8_O48CLIChwtLWhqBSl7nUUlGbSUwcw",
            authDomain: "jsa22-1034f.firebaseapp.com",
            projectId: "jsa22-1034f",
            storageBucket: "jsa22-1034f.appspot.com",
            messagingSenderId: "592274584586",
            appId: "1:592274584586:web:332f46b93186db5af79bf3",
            measurementId: "G-E63SX88C9M"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();
        const database = getDatabase(app);

        document.getElementById('signup').addEventListener('click', signup)
        function signup() {

            document.getElementById('sign-up').style.display = 'block';
            document.getElementById('sign-in').style.display = 'none';
            document.getElementById('signin').style.display = 'block';
            document.getElementById('signup').style.display = 'none';

        }
        document.getElementById('signin').addEventListener('click', signin)
        function signin() {
            document.getElementById('sign-up').style.display = 'none';
            document.getElementById('sign-in').style.display = 'block';
            document.getElementById('signup').style.display = 'block';
            document.getElementById('signin').style.display = 'none';
        }



        document.getElementById('sign-up').addEventListener('click', test)
        function test() {
            let email = document.getElementById('email').value;
            let password = document.getElementById('pass').value;
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;
                    swal.fire('Đăng kí thành công')
                    // ...
                    document.getElementById('sign-up').style.display = 'none';
                    document.getElementById('sign-in').style.display = 'block';
                    document.getElementById('signup').style.display = 'block';
                    document.getElementById('signin').style.display = 'none';
                    document.getElementById('email').value = "";
                    document.getElementById('pass').value = "";
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    swal.fire(errorMessage)
                    // ..
                });
        }
        document.getElementById('sign-in').addEventListener('click', test1)
        function test1() {
            let email = document.getElementById('email').value;
            let password = document.getElementById('pass').value;
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;
                    // ...
                    window.location.href = "homepage.html"
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    swal.fire(errorMessage)
                });
        }
    </script>
</html>